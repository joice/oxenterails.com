!!! Strict

%html{ :xmlns => "http://www.w3.org/1999/xhtml" }
  %head
    %title Oxente Rails 2010
    %meta{ :content => "text/html; charset=utf-8", "http-equiv" => "Content-Type" }
    %meta{ :name => "author", :content => "Participe.de - Tink!" }
    %meta{ :name => "description", :content => "Oxente Rails 2010" }
    %meta{ :name => "keywords", :content => "Oxente Rails 2010" }
    - %w(reset text 960 style sifr jquery.fancybox-1.3.1).each do |css_file|
      = css_tag("#{css_file}.css")
    - %w(sifr sifr-config).each do |js|
      = script_tag("#{js}.js")
  %body
    #header
      .container_12
        #banner.grid_8.prefix_2      
          %a{ :href => "/"}
            %img{:src => "images/bg/bg-banner.jpg", :alt => "Oxente Rails 2010"}
      
    #menu
      .container_12
        .grid_12
          %ul
            - topic_posts.each do |post|
              - if post.categories.empty?
                %li{:class => "#{'current' if (page.title == post.title)}"}
                  %a{ :href => post.url}= post.title
    - unless children_posts.empty?
      #submenu
        .container_12
          .grid_9.prefix_2
            %ul
              - children_posts do |children_post|
                %li
                  %a{ :href => children_post.url }= children_post.title

    #conteudo
      %hr.content
      %div{:class => "container_12 #{layout_type}"}
        #content.content_12
          - if layout_type == 'internal_page'
            .grid_8.prefix_2
              %h2= page.title
              = content
          - else
            = content
        .clear
    #footer
      %hr.content
      .container_12
        #credenciais.grid_3.prefix_1.alpha
          %p
            %a(href="/")
              %strong www.oxenterails.com
            %br
              &copy; 2010 tink! It's all about IT  
        .grid_2.prefix_5.omega
          %a(href="/" title="Oxente Rails 2010")
            %img{ :src => "images/bg/logo-footer.jpg", :title => "Oxente Rails 2010"}


    %script{ :type => "text/javascript", :src => "http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js" }
    - %w(jquery.validate localization/messages_ptbr).each do |js_file|
      = script_tag("#{js_file}.js")
    - if variable(:javascript)
      %script{:type => 'text/javascript'}
        = variable(:javascript)
    - if variable(:javascript_imports)
      - variable(:javascript_imports).split(' ').each do |js|
        %script{ :src => "js/#{js}.js", :type => 'text/javascript'}
    - unless layout_type == 'internal_page'
      - %w(jquery.cycle.lite theme).each do |js_file|
        = script_tag("#{js_file}.js")
    :javascript
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    :javascript
      try {
        var pageTracker = _gat._getTracker("UA-8460229-1");
        pageTracker._trackPageview();
      }
      catch(err) {}
    #translate
      %a{ :href => "/en/"}
        %img{ :src => "../images/bg/l_en.png"}
